select CURRENT_USER;



//BOOKS TABLE
CREATE TABLE book(
id INT PRIMARY KEY,
name VARCHAR(50) NOT NULL,
authorName VARCHAR(50));
INSERT INTO book (id,name,authorName) VALUES (101,'your name','aditya'),(102,'last summer','ayush');
ALTER TABLE book ADD COUNT INT CHECK(COUNT>=1);
SELECT * FROM book;
UPDATE book SET COUNT=3 WHERE id=101;




//VISITOR
CREATE TABLE LIBRARY_VISITOR_USER(
USER_ID INT PRIMARY KEY,
USER_NAME VARCHAR(20) NOT NULL,
AGE INT CHECK (AGE>=17) NOT NULL,
EMAIL VARCHAR(50) UNIQUE NOT NULL
)
INSERT INTO LIBRARY_VISITOR_USER (USER_ID,USER_NAME,AGE,EMAIL) VALUES (101,'ADITYA',18,'adityarajbhakta@gmail.com');
SELECT * FROM LIBRARY_VISITOR_USER;



//BOOK ISSUE
CREATE TABLE BOOK_ISSUE(
BOOK_ISSUE_ID INT PRIMARY KEY,
BOOK_ID INT REFERENCES book(id),
USER_ID INT REFERENCES LIBRARY_VISITOR_USER(USER_ID),
BOOK_ISSUE_DATE DATE NOT NULL
);
INSERT INTO BOOK_ISSUE (BOOK_ISSUE_ID,BOOK_ID, USER_ID,BOOK_: Online Quiz and AISSUE_DATE) VALUES (34899345,102,101,'2026-05-01');
SELECT * FROM BOOK_ISSUE;



//ROLE 
CREATE ROLE LIBRARIAN1 WITH LOGIN PASSWORD 'ADITYA-RAJ-BHAKTA';
GRANT SELECT,INSERT,UPDATE,DELETE ON book TO LIBRARIAN1;
GRANT SELECT,INSERT,UPDATE,DELETE ON LIBRARY_VISITOR_USER  TO LIBRARIAN1;
GRANT SELECT,INSERT,UPDATE,DELETE ON BOOK_ISSUE TO LIBRARIAN1;
REVOKE DELETE ON book FROM LIBRARIAN1;